{% extends 'teacher/base.html' %}

{% block title %}{{ section.name }}{% endblock %}

{% block content %}
<section class="section">
    <h2 class="is-size-3 has-text-weight-bold">
        Upcoming assignments
    </h2>
    <p>
        <a href="">View all assignments</a>
    </p>
    {% if section.assignments %}
    <table class="table is-striped">
        <thead>
            <tr>
                <th>Name</th>
                <th>Date</th>
            </tr>
        </thead>
        <tbody>
            {% for a in section.assignments %}
            <tr>
                <td>{{ a.name }}</td>
                <td>{{ a.date }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p>
        This section has no upcoming assignments
    </p>
    {% endif %}
    <div class="buttons">
        <a href="{{ url_for('teacher.create_assignment', section_id=section.id) }}" class="button is-primary">Create assignment</a>
        <a href="" class="button">Manage assignments</a>
    </div>
</section>

<section class="section" id="enrolled">
    <h2 class="is-size-3 has-text-weight-bold">
        Enrolled students
    </h2>

    {% if section.enrolled %}
    <table class="table is-striped">
        <thead>
            <tr>
                <th>Name</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for e in section.enrolled %}
            <tr>
                <td>{{ e.student.user.username }}</td>
                <td>
                    <div class="buttons">
                        <a href="" class="button is-info is-small">View progress</a>
                        <a href="" class="button is-danger is-small">Remove</a>
                    </div>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    {% endif %}
</section>
{% endblock %}
